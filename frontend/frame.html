<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Immersive Farm World</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.0/dist/aframe-environment-component.min.js"></script>
    <style>
        body { margin: 0; overflow: hidden; }
        #loading-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(#87CEEB, #E0F7FA);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            color: white;
            font-family: Arial;
            flex-direction: column;
        }
        .loader {
            width: 100px;
            height: 100px;
            border: 15px solid rgba(255,255,255,0.2);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1.5s linear infinite;
            margin-bottom: 20px;
        }
        @keyframes spin {
            100% { transform: rotate(360deg); }
        }
        .progress-bar {
            width: 200px;
            height: 10px;
            background: rgba(255,255,255,0.2);
            border-radius: 5px;
            margin-top: 20px;
            overflow: hidden;
        }
        .progress {
            height: 100%;
            width: 0%;
            background: white;
            transition: width 0.3s;
        }
    </style>
</head>
<body>
    <div id="loading-screen">
        <div class="loader"></div>
        <div>Loading Farm World...</div>
        <div class="progress-bar"><div class="progress" id="progress"></div></div>
    </div>
     <div class="gallery">
    <img src="img1.png" alt="Field with crops">
    <img src="img2.png" alt="Farmer in a field">
    <img src="img3.png" alt="Modern farming equipment">
  </div>
    <a-scene environment="preset: forest; groundColor: #44582e; dressingAmount: 150; dressingColor: #5a7243">
        <!-- Sky with clouds -->
        <a-sky color="#87CEEB"></a-sky>
        <a-entity id="clouds"></a-entity>
        
        <!-- Lighting -->
        <a-light type="ambient" color="#445588" intensity="0.6"></a-light>
        <a-light type="directional" color="#ffeeaa" intensity="0.8" position="-1 1 0.5" cast-shadow></a-light>
        <a-light type="hemisphere" color="#87CEEB" groundColor="#4CAF50" intensity="0.3"></a-light>

        <!-- Terrain -->
        <a-entity geometry="primitive: plane; width: 200; height: 200" rotation="-90 0 0" 
                 material="color: #3a5c2b; roughness: 1"></a-entity>
           <a-entity geometry="primitive: plane; width: 100; height: 100" rotation="-90 0 0" 
                 material="color: #3a5c2b; roughness: 1"></a-entity>

        <!-- Village houses -->
        <a-entity position="-5 0 -10">
            <a-box position="0 1.5 0" width="4" height="3" depth="4" color="#8B4513"></a-box>
            <a-box position="0 3.5 0" width="4.5" height="1" depth="4.5" color="#A0522D" rotation="0 10 0"></a-box>
            <a-box position="0 0.5 -2" width="1" height="1" depth="1" color="#708090"></a-box>
        </a-entity>
<a-entity position="8 0 -15">
            <a-box position="0 1.2 0" width="3" height="2.4" depth="3" color="#D2B48C"></a-box>
            <a-sphere position="0 3 0" radius="1.8" color="#2E8B57"></a-sphere>
        </a-entity>
        <!-- ========== CROP FIELDS ========== -->
        <!-- Windmill -->
 <a-assets>
        <a-asset-item id="agriModel" src="assets/agri-worker.glb"></a-asset-item>
      </a-assets>

      <a-entity 
        gltf-model="#agriModel" 
        position="0 0 -3" 
        scale="0.5 0.5 0.5" 
        rotation="0 180 0">
      </a-entity>

        <a-entity position="15 0 -20" rotation="0 45 0">
            <a-cylinder position="0 5 0" radius="1" height="10" color="#A0522D"></a-cylinder>
            <a-sphere position="0 10 0" radius="2" color="#8B4513"></a-sphere>
            <a-entity class="windmill-blades" rotation="0 0 0">
                <a-box position="0 9 3" width="0.2" height="5" depth="0.5" color="#FFFFFF"></a-box>
                <a-box position="0 9 -3" width="0.2" height="5" depth="0.5" color="#FFFFFF"></a-box>
                <a-box position="3 9 0" width="0.2" height="5" depth="0.5" color="#FFFFFF" rotation="0 90 0"></a-box>
                <a-box position="-3 9 0" width="0.2" height="5" depth="0.5" color="#FFFFFF" rotation="0 90 0"></a-box>
            </a-entity>
        </a-entity>
         <a-image src="img1.png" position="-6 2 -8" width="3" height="2" rotation="0 20 0"></a-image>
    <a-box src="img2.png" position="0 1.5 -5" depth="2" height="2" width="3"></a-box>
    

    <a-image src="img3.png" position="-4 1.5 -14" width="2.5" height="1.8" rotation="0 15 0"></a-image>
    <a-image src="img4.jpg" position="3 2 -17" width="3" height="2" rotation="0 -10 0"></a-image>
    <a-image src="img5.jpg" position="0 2 -20" width="4" height="2.5" rotation="0 0 0"></a-image>
    <a-image src="img6.jpg" position="-8 2 -18" width="2" height="1.5" rotation="0 10 0"></a-image>
    
        <a-entity id="wheat-field" position="0 0 -15">
        <!-- Paddy Field with Water -->
        <a-entity id="paddy-field" position="-40 0 0">
            <a-plane width="40" height="30" rotation="-90 0 0" position="0 0.1 0"
                     color="#4a80f5" opacity="0.6" roughness="0.2" metalness="0.3"></a-plane>
            <a-entity id="paddy-plants"></a-entity>
            <a-entity class="farmer" position="5 0 5" rotation="0 90 0"></a-entity>
            <a-entity class="buffalo" position="-5 0 -8" rotation="0 45 0"></a-entity>
        </a-entity>
        
        <!-- Sunflower Field -->
        <a-entity id="sunflower-field" position="40 0 0">
            <a-plane width="40" height="30" rotation="-90 0 0" color="#DAA520"></a-plane>
            <a-entity id="sunflower-plants"></a-entity>
            <a-entity class="tractor" position="0 0 -5" rotation="0 180 0"></a-entity>
        </a-entity>
        
        <!-- Rose Garden -->
        <a-entity id="rose-garden" position="0 0 -50">
            <a-plane width="30" height="40" rotation="-90 0 0" color="#556B2F"></a-plane>
            <a-entity id="rose-plants"></a-entity>
            <a-entity class="farmer" position="8 0 10" rotation="0 45 0"></a-entity>
        </a-entity>
        
        <!-- Cotton Field -->
        <a-entity id="cotton-field" position="0 0 50">
            <a-plane width="50" height="30" rotation="-90 0 0" color="#8B4513"></a-plane>
            <a-entity id="cotton-plants"></a-entity>
            <a-entity class="plough" position="-10 0 0" rotation="0 90 0"></a-entity>
        </a-entity>

        <!-- ========== TREES ========== -->
        
        <!-- Coconut Tree Grove -->
        <a-entity id="coconut-trees" position="-60 0 -30">
            <a-plane width="30" height="30" rotation="-90 0 0" color="#5CAB7D"></a-plane>
            <a-entity id="coconut-plants"></a-entity>
        </a-entity>
        
        <!-- Mango Tree Grove -->
        <a-entity id="mango-trees" position="60 0 -30">
            <a-plane width="30" height="30" rotation="-90 0 0" color="#5CAB7D"></a-plane>
            <a-entity id="mango-plants"></a-entity>
        </a-entity>
        
        <!-- Random Trees -->
        <a-entity id="random-trees"></a-entity>

        <!-- ========== WATER BODIES ========== -->
        
        <!-- Main Pond -->
        <a-entity position="0 0 -10">
            <a-circle radius="15" rotation="-90 0 0" position="0 0.1 0"
                      color="#4a80f5" opacity="0.7" roughness="0.1" metalness="0.4"></a-circle>
            <a-entity class="cow" position="5 0 5" rotation="0 120 0"></a-entity>
        </a-entity>
        
        <!-- Small Watering Hole -->
        <a-entity position="30 0 30">
            <a-circle radius="8" rotation="-90 0 0" position="0 0.1 0"
                      color="#4a80f5" opacity="0.7"></a-circle>
        </a-entity>

        <!-- ========== ROAD NETWORK ========== -->
        
        <!-- Main Road -->
        <a-box position="0 0.01 0" width="200" height="0.2" depth="8" color="#A9A9A9"></a-box>
        
        <!-- Cross Roads -->
        <a-box position="-40 0.01 0" width="8" height="0.2" depth="100" color="#A9A9A9"></a-box>
        <a-box position="40 0.01 0" width="8" height="0.2" depth="100" color="#A9A9A9"></a-box>
        <a-box position="0 0.01 50" width="60" height="0.2" depth="8" color="#A9A9A9"></a-box>
        <a-box position="0 0.01 -50" width="60" height="0.2" depth="8" color="#A9A9A9"></a-box>

        <!-- ========== BIRDS ========== -->
        <a-entity id="birds"></a-entity>

        <!-- ========== PLAYER ========== -->
        <a-entity id="player" position="0 1.6 0" movement-controls>
            <a-entity camera look-controls wasd-controls="fly: false"></a-entity>
            <!-- Simple avatar -->
            <a-cylinder radius="0.3" height="1.7" position="0 0.85 0" color="#4682B4"></a-cylinder>
            <a-sphere radius="0.25" position="0 1.6 0" color="#FFD3B6"></a-sphere>
        </a-entity>

        <!-- ========== SCRIPT ========== -->
        <script>
            // Update loading progress
            function updateProgress(percent) {
                document.getElementById('progress').style.width = percent + '%';
            }
            
            // Create elements after scene loads
            document.querySelector('a-scene').addEventListener('loaded', function() {
                updateProgress(20);
                
                // Create clouds
                const clouds = document.getElementById('clouds');
                for (let i = 0; i < 8; i++) {
                    const cloud = document.createElement('a-entity');
                    const x = Math.random() * 200 - 100;
                    const z = Math.random() * 200 - 100;
                    const size = 5 + Math.random() * 10;
                    
                    cloud.setAttribute('position', `${x} 15 ${z}`);
                    cloud.setAttribute('scale', `${size} ${size*0.5} ${size}`);
                    cloud.innerHTML = `
                        <a-sphere radius="1" color="white" opacity="0.8" position="${-1} 0 0"></a-sphere>
                        <a-sphere radius="1.2" color="white" opacity="0.8" position="0.5 0.3 0.3"></a-sphere>
                        <a-sphere radius="0.8" color="white" opacity="0.8" position="1 -0.2 0"></a-sphere>
                    `;
                    cloud.setAttribute('animation', {
                        property: 'position.x',
                        to: x + (Math.random() > 0.5 ? 50 : -50),
                        dur: 60000 + Math.random() * 60000,
                        loop: true
                    });
                    clouds.appendChild(cloud);
                }
                updateProgress(30);
                
                // Create paddy plants
                const paddyPlants = document.getElementById('paddy-plants');
                for (let i = 0; i < 200; i++) {
                    const plant = document.createElement('a-entity');
                    const x = (Math.random() - 0.5) * 38;
                    const z = (Math.random() - 0.5) * 28;
                    const height = 0.8 + Math.random() * 0.4;
                    
                    plant.setAttribute('position', `${x} 0 ${z}`);
                    plant.innerHTML = `
                        <a-cone height="${height}" radius-bottom="0.1" radius-top="0" color="#8FBC8F"></a-cone>
                        <a-sphere position="0 ${height*0.8} 0" radius="0.05" color="#FFD700"></a-sphere>
                    `;
                    plant.setAttribute('animation', {
                        property: 'rotation.z',
                        to: (Math.random() > 0.5 ? 10 : -10),
                        dir: 'alternate',
                        dur: 2000 + Math.random() * 3000,
                        loop: true
                    });
                    paddyPlants.appendChild(plant);
                }
                updateProgress(40);
                
                // Create sunflower plants
                const sunflowerPlants = document.getElementById('sunflower-plants');
                for (let i = 0; i < 100; i++) {
                    const plant = document.createElement('a-entity');
                    const x = (Math.random() - 0.5) * 38;
                    const z = (Math.random() - 0.5) * 28;
                    
                    plant.setAttribute('position', `${x} 0 ${z}`);
                    plant.innerHTML = `
                        <a-cylinder height="1.5" radius="0.1" color="#228B22"></a-cylinder>
                        <a-circle position="0 0.8 0" rotation="-90 0 0" radius="0.6" color="#FFD700"></a-circle>
                        <a-circle position="0 0.81 0" rotation="-90 0 0" radius="0.3" color="#8B0000"></a-circle>
                    `;
                    sunflowerPlants.appendChild(plant);
                }
                updateProgress(50);
                
                // Create rose plants
                const rosePlants = document.getElementById('rose-plants');
                for (let i = 0; i < 150; i++) {
                    const plant = document.createElement('a-entity');
                    const x = (Math.random() - 0.5) * 28;
                    const z = (Math.random() - 0.5) * 38;
                    
                    plant.setAttribute('position', `${x} 0 ${z}`);
                    plant.innerHTML = `
                        <a-cylinder height="0.6" radius="0.03" color="#228B22"></a-cylinder>
                        <a-sphere position="0 0.3 0" radius="0.15" color="#FF0000"></a-sphere>
                    `;
                    rosePlants.appendChild(plant);
                }
                updateProgress(60);
                
                // Create cotton plants
                const cottonPlants = document.getElementById('cotton-plants');
                for (let i = 0; i < 200; i++) {
                    const plant = document.createElement('a-entity');
                    const x = (Math.random() - 0.5) * 48;
                    const z = (Math.random() - 0.5) * 28;
                    
                    plant.setAttribute('position', `${x} 0 ${z}`);
                    plant.innerHTML = `
                        <a-cylinder height="0.8" radius="0.05" color="#228B22"></a-cylinder>
                        <a-sphere position="0 0.4 0" radius="0.15" color="#FFFFFF"></a-sphere>
                    `;
                    cottonPlants.appendChild(plant);
                }
                updateProgress(70);
                
                // Create coconut trees
                const coconutTrees = document.getElementById('coconut-plants');
                for (let i = 0; i < 15; i++) {
                    const tree = document.createElement('a-entity');
                    const x = (Math.random() - 0.5) * 28;
                    const z = (Math.random() - 0.5) * 28;
                    
                    tree.setAttribute('position', `${x} 0 ${z}`);
                    tree.innerHTML = `
                        <a-cylinder height="8" radius="0.4" color="#8B4513" position="0 4 0"></a-cylinder>
                        <a-cone height="5" radius-bottom="3" radius-top="0" color="#006400" position="0 8 0"></a-cone>
                        <a-sphere radius="0.3" color="#8B0000" position="${Math.random()*2-1} 7 ${Math.random()*2-1}"></a-sphere>
                    `;
                    coconutTrees.appendChild(tree);
                }
                updateProgress(80);
                
                // Create mango trees
                const mangoTrees = document.getElementById('mango-plants');
                for (let i = 0; i < 12; i++) {
                    const tree = document.createElement('a-entity');
                    const x = (Math.random() - 0.5) * 28;
                    const z = (Math.random() - 0.5) * 28;
                    
                    tree.setAttribute('position', `${x} 0 ${z}`);
                    tree.innerHTML = `
                        <a-cylinder height="6" radius="0.5" color="#8B4513" position="0 3 0"></a-cylinder>
                        <a-sphere radius="3" color="#228B22" position="0 6 0"></a-sphere>
                        <a-sphere radius="0.2" color="#FF4500" position="${Math.random()*1.5-0.75} 6 ${Math.random()*1.5-0.75}"></a-sphere>
                    `;
                    mangoTrees.appendChild(tree);
                }
                updateProgress(85);
                
                // Create random trees
                const randomTrees = document.getElementById('random-trees');
                for (let i = 0; i < 30; i++) {
                    const tree = document.createElement('a-entity');
                    const x = Math.random() * 180 - 90;
                    const z = Math.random() * 180 - 90;
                    const type = Math.random() > 0.5 ? 'deciduous' : 'conifer';
                    
                    tree.setAttribute('position', `${x} 0 ${z}`);
                    
                    if (type === 'deciduous') {
                        tree.innerHTML = `
                            <a-cylinder height="${4 + Math.random()*3}" radius="${0.3 + Math.random()*0.2}" 
                                        color="#8B4513" position="0 ${(4 + Math.random()*3)/2} 0"></a-cylinder>
                            <a-sphere radius="${1.5 + Math.random()}" color="#228B22" 
                                     position="0 ${4 + Math.random()*3} 0"></a-sphere>
                        `;
                    } else {
                        tree.innerHTML = `
                            <a-cylinder height="${5 + Math.random()*4}" radius="${0.2 + Math.random()*0.2}" 
                                        color="#8B4513" position="0 ${(5 + Math.random()*4)/2} 0"></a-cylinder>
                            <a-cone height="${3 + Math.random()*2}" radius-bottom="${1 + Math.random()}" radius-top="0" 
                                   color="#006400" position="0 ${5 + Math.random()*4} 0"></a-cone>
                        `;
                    }
                    randomTrees.appendChild(tree);
                }
                updateProgress(90);
                
                // Create birds
                const birds = document.getElementById('birds');
                for (let i = 0; i < 12; i++) {
                    const bird = document.createElement('a-entity');
                    const x = Math.random() * 150 - 75;
                    const z = Math.random() * 150 - 75;
                    const y = 10 + Math.random() * 10;
                    
                    bird.setAttribute('position', `${x} ${y} ${z}`);
                    bird.innerHTML = `
                        <a-cone height="0.5" radius-bottom="0.1" radius-top="0" color="#000000" rotation="0 0 -90"></a-cone>
                    `;
                    bird.setAttribute('animation', {
                        property: 'position',
                        to: `${x + (Math.random() * 40 - 20)} ${y + (Math.random() * 4 - 2)} ${z + (Math.random() * 40 - 20)}`,
                        dur: 10000 + Math.random() * 20000,
                        dir: 'alternate',
                        loop: true
                    });
                    birds.appendChild(bird);
                }
                updateProgress(95);
                
                // Create farmers
                document.querySelectorAll('.farmer').forEach((farmer, index) => {
                    farmer.innerHTML = `
                        <a-cylinder height="1.7" radius="0.2" color="#${index % 2 === 0 ? 'FF6347' : '4682B4'}" position="0 0.85 0"></a-cylinder>
                        <a-sphere radius="0.25" color="#FFD3B6" position="0 1.6 0"></a-sphere>
                        <a-cylinder height="0.4" radius="0.15" color="#FFD3B6" position="-0.3 1.3 0" rotation="0 0 45"></a-cylinder>
                        <a-cylinder height="0.4" radius="0.15" color="#FFD3B6" position="0.3 1.3 0" rotation="0 0 -45"></a-cylinder>
                        <a-animation attribute="rotation" to="0 ${360 + (index * 60)} 0" dur="20000" loop="true"></a-animation>
                    `;
                });
                
                // Create tractor
                document.querySelector('.tractor').innerHTML = `
                    <a-box width="3" height="1" depth="2" color="#B22222" position="0 0.5 0"></a-box>
                    <a-cylinder height="0.5" radius="0.5" color="#000000" position="-1 0.25 1"></a-cylinder>
                    <a-cylinder height="0.5" radius="0.5" color="#000000" position="-1 0.25 -1"></a-cylinder>
                    <a-cylinder height="0.5" radius="0.5" color="#000000" position="1 0.25 1"></a-cylinder>
                    <a-cylinder height="0.5" radius="0.5" color="#000000" position="1 0.25 -1"></a-cylinder>
                    <a-animation attribute="position" to="0 0 -25" dur="30000" dir="alternate" loop="true"></a-animation>
                `;
                
                // Create plough
                document.querySelector('.plough').innerHTML = `
                    <a-box width="2" height="0.5" depth="0.5" color="#A9A9A9" position="0 0.25 0"></a-box>
                    <a-cone height="0.5" radius-bottom="0.3" radius-top="0.1" color="#8B4513" position="0 0.25 -1"></a-cone>
                    <a-animation attribute="rotation" to="0 270 0" dur="15000" dir="alternate" loop="true"></a-animation>
                `;
                
                // Create buffalo
                document.querySelector('.buffalo').innerHTML = `
                    <a-box width="1.5" height="0.7" depth="0.8" color="#8B4513" position="0 0.35 0"></a-box>
                    <a-sphere radius="0.3" color="#8B4513" position="0 0.7 0.4"></a-sphere>
                    <a-cone height="0.2" radius-bottom="0.1" radius-top="0" color="#000000" position="0 0.7 0.6" rotation="0 180 0"></a-cone>
                    <a-animation attribute="rotation" to="0 225 0" dur="10000" dir="alternate" loop="true"></a-animation>
                `;
                
                // Create cow
                document.querySelector('.cow').innerHTML = `
                    <a-box width="1.2" height="0.6" depth="0.7" color="#FFFFFF" position="0 0.3 0" material="src: #cowTexture; repeat: 1 1"></a-box>
                    <a-sphere radius="0.25" color="#FFFFFF" position="0 0.6 0.3"></a-sphere>
                    <a-cone height="0.15" radius-bottom="0.08" radius-top="0" color="#000000" position="0 0.6 0.45" rotation="0 180 0"></a-cone>
                    <a-animation attribute="position" to="8 0 8" dur="20000" dir="alternate" loop="true"></a-animation>
                `;
                
                updateProgress(100);
                
                // Hide loading screen after everything is ready
                setTimeout(() => {
                    document.getElementById('loading-screen').style.opacity = '0';
                    setTimeout(() => {
                        document.getElementById('loading-screen').style.display = 'none';
                    }, 500);
                }, 1000);
            });
        </script>
    </a-scene>
</body>
</html>